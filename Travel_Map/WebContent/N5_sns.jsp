<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/N5_sns.css" />
    <title>N5_sns</title>
</head>

<body>
	<div class="header">
		<b>My Real Travel in GwangJu </b>
		<button>íšŒì›ê°€ì…</button>
		<button>ë¡œê·¸ì¸</button>
	</div> 
    <div class="side_all">
        <div class="side_one">
            <nav>
                <ul class="side_menu">
                    <li><button class = "side_button">ê²€ìƒ‰</button></li>
                    <li><button class = "side_button">ì—¬í–‰ê³„íš</button></li>
                    <li><button class = "side_button">My</button></li>
                    <li><button class = "side_button">SNS</button></li>
                </ul>
            </nav>
        </div>
        <div class="side_two">
            <input type="text" id="search_keyword_query" placeholder=" ê²€ìƒ‰ì–´ ì…ë ¥">
            <button id="search_keyword_query_button"><img src="./img/search.png"></button>
        </div>
        <div class="side_three">
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/sns6.jpg"></a>
				<a href="#" class="user_nick">user_nick</a>
				<a href="#" class="travel_plan">travel_plan</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/travel1.JPG"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ê´‘ì£¼ì— ê°€ë©´ ê¼­ ë“¤ë¥´ëŠ” ê³³! ê¹€ë°¥ì´ ì—„ì²­ ë§›ìˆë‹¤âœ¨</p></div>
		</div>
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/Sand_beach.jpg"></a>
				<a href="#" class="user_nick">user_nick2</a>
				<a href="#" class="travel_plan">travel_plan2</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/travel2_mzof.JPG"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ë™ëª…ë™ MZRNâ˜•</p></div>
		</div>
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/sns6.jpg"></a>
				<a href="#" class="user_nick">user_nick3</a>
				<a href="#" class="travel_plan">travel_plan3</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/travel3_mzof.JPG"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ë§¤ì €ë¦° ì˜¤í”¼ìŠ¤ğŸ‘</p></div>
		</div>
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/sns6.jpg"></a>
				<a href="#" class="user_nick">user_nick4</a>
				<a href="#" class="travel_plan">travel_plan4</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/travel4_leeleenam.JPG"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ì´ì´ë‚¨ë¯¸ìˆ ê´€ êµ¬ê²½ğŸ‘€</p></div>
		</div>
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/sns6.jpg"></a>
				<a href="#" class="user_nick">user_nick5</a>
				<a href="#" class="travel_plan">travel_plan5</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/travel5_leeleenamroof.JPG"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ëˆ„ê°€ ê´‘ì£¼ì— ë³¼ ê³³ì´ ì—†ë‹¤ê³  í–ˆë˜ê°€ ..!</p></div>
		</div>
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/sns6.jpg"></a>
				<a href="#" class="user_nick">user_nick6</a>
				<a href="#" class="travel_plan">travel_plan6</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/sns21.jpg"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ğŸ</p></div>
		</div>
		<div class="sns_feed">
			<div class="profile">
				<a href="#" clase="profile_img"><img src="./img/travel4_leeleenam.JPG"></a>
				<a href="#" class="user_nick">user_nick7</a>
				<a href="#" class="travel_plan">travel_plan7</a>
			</div>
			<div class="trvel_pictures"><a href="#"><img src="./img/travel6_cufcuf.JPG"></a></div>
			<div class="mini"><button><img src="./img/heart_tung.png"></button><a href="#"><img src="./img/details.png"></a></div>
			<div class="trvel_writing"><p>ìˆ˜ì™„ì§€êµ¬ coffcoff_houseğŸ¥¨</p></div>
		</div>
        </div>
    </div>

	<script src="js/jquery-3.6.0.min.js"></script>

	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=31e189d0d305a85663770a625b11688d&libraries=services"></script>
	<script>
		// ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ì¥ì†Œëª…ì„ í‘œì¶œí•  ì¸í¬ìœˆë„ìš° ì…ë‹ˆë‹¤
		var infowindow = new kakao.maps.InfoWindow({
			zIndex: 1
		});

		var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div 
			mapOption = {
				center: new kakao.maps.LatLng(37.566826, 126.9786567), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
				level: 3
				// ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
			};

		// ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
		var map = new kakao.maps.Map(mapContainer, mapOption);

		// ì¥ì†Œ ê²€ìƒ‰ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
		var ps = new kakao.maps.services.Places();

		var txt;
		function search() {
			txt = $('input[type=text]').val()
			// í‚¤ì›Œë“œë¡œ ì¥ì†Œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤
			ps.keywordSearch(txt, placesSearchCB);
		}


		// í‚¤ì›Œë“œ ê²€ìƒ‰ ì™„ë£Œ ì‹œ í˜¸ì¶œë˜ëŠ” ì½œë°±í•¨ìˆ˜ ì…ë‹ˆë‹¤
		function placesSearchCB(data, status, pagination) {
			if (status === kakao.maps.services.Status.OK) {

				// ê²€ìƒ‰ëœ ì¥ì†Œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ë„ ë²”ìœ„ë¥¼ ì¬ì„¤ì •í•˜ê¸°ìœ„í•´
				// LatLngBounds ê°ì²´ì— ì¢Œí‘œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
				var bounds = new kakao.maps.LatLngBounds();

				for (var i = 0; i < data.length; i++) {
					displayMarker(data[i]);	//ë§ˆì»¤ ì°ì–´ì£¼ëŠ” ë¶€ë¶„
					bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x)); //ë²”ìœ„ì„¤ì •
				}

				// ê²€ìƒ‰ëœ ì¥ì†Œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ë„ ë²”ìœ„ë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤
				map.setBounds(bounds);
			}
		}

		// ì§€ë„ì— ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
		function displayMarker(place) {

			// ë§ˆì»¤ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
			var marker = new kakao.maps.Marker({
				map: map,
				position: new kakao.maps.LatLng(place.y, place.x)
			});

			// ë§ˆì»¤ì— í´ë¦­ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
			kakao.maps.event.addListener(marker, 'mouseover', function () {
				// ë§ˆì»¤ìœ„ì— ì»¤ì„œ ì˜¬ë ¸ì„ ë•Œ  ì¥ì†Œëª…ì´ ì¸í¬ìœˆë„ìš°ì— í‘œì¶œë©ë‹ˆë‹¤
				infowindow.setContent('<div style="padding:5px;font-size:12px;">'
					+ place.place_name + '</div>');
				infowindow.open(map, marker);
			});
			kakao.maps.event.addListener(marker, 'mouseout', function () {
				// ë§ˆì»¤ ìœ„ì—ì„œ ì»¤ì„œë¥¼ ë‚´ë ¸ì„ë•Œ ì¸í¬ìœˆë„ìš° ì‚­ì œ(ì•ˆë³´ì´ê²Œ)
				infowindow.close();

			});
			kakao.maps.event.addListener(marker, 'mouseout', function () {
				// ë§ˆì»¤í´ë¦­í–ˆì„ ë•Œ í•´ë‹¹ ì¥ì†Œ ì •ë³´ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¡œ ì´ë™
				location.href = "info.jsp?place=" + txt
			});
		}
	</script>


</body>

</html>